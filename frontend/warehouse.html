<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Склад — Logistics OS</title>

    <link rel="stylesheet" href="assets/css/theme.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/warehouse.css" />
  </head>

  <body>
    <header>
      <div class="header-inner">
        <h1>LOGISTICS OS</h1>

        <nav>
          <a href="dashboard.html" class="nav-link">Панель</a>
          <a href="warehouse.html" class="nav-link active">Склад</a>
        </nav>

        <div id="userPanel" class="user-panel" style="display: none">
          <span id="userLabel"></span>
          <button id="logoutBtn">Выйти</button>
        </div>
      </div>
    </header>

    <main class="warehouse-container">
      <!-- PAGE TITLE -->
      <section class="warehouse-header">
        <h2 class="warehouse-title">Склад</h2>
        <p class="warehouse-subtitle">
          Управляйте структурами хранения, контролируйте доступность ячеек и
          следите за состоянием складской инфраструктуры.
        </p>
      </section>

      <!-- KPI SUMMARY -->
      <section class="warehouse-kpi">
        <div class="kpi-card">
          <span class="kpi-label">Всего зон</span>
          <span class="kpi-value" id="kpi-zones">—</span>
        </div>

        <div class="kpi-card">
          <span class="kpi-label">Всего ячеек</span>
          <span class="kpi-value" id="kpi-cells">—</span>
        </div>

        <div class="kpi-card">
          <span class="kpi-label">Занято ячеек</span>
          <span class="kpi-value">—</span>
        </div>
      </section>

      <!-- SUBNAV -->
      <section class="warehouse-subnav">
        <button class="subnav-btn active" data-section="cells">Ячейки</button>
        <button class="subnav-btn" data-section="zones">Зоны</button>
        <button class="subnav-btn" data-section="products">Товары</button>
        <button class="subnav-btn" data-section="stock">Остатки</button>
      </section>

      <!-- CELLS SECTION -->
      <section id="section-cells" class="warehouse-section active">
        <div class="section-toolbar">
          <button id="addCellBtn" class="btn btn-primary">
            Добавить ячейку
          </button>
        </div>

        <div class="table-wrapper">
          <table class="styled-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Код ячейки</th>
                <th>Зона</th>
                <th>Макс. объём</th>
                <th>Макс. вес</th>
                <th>Описание</th>
                <th>Действия</th>
              </tr>
            </thead>

            <tbody id="cellsTableBody">
              <tr>
                <td colspan="5" style="text-align: center">Загрузка...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- ZONES SECTION -->
      <section id="section-zones" class="warehouse-section">
        <div class="section-toolbar">
          <button id="addZoneBtn" class="btn btn-primary">Добавить зону</button>
        </div>

        <div class="table-wrapper">
          <table class="styled-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Название зоны</th>
                <th>Описание</th>
                <th>Создана</th>
                <th>Действия</th>
              </tr>
            </thead>

            <tbody id="zonesTableBody">
              <tr>
                <td colspan="5" style="text-align: center">Загрузка...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- PRODUCTS SECTION -->
      <section id="section-products" class="warehouse-section">
        <p class="placeholder-text">Здесь позже будет управление товарами.</p>
      </section>

      <section id="section-stock" class="warehouse-section">
        <div class="section-toolbar">
          <button id="addStockBtn" class="btn btn-primary">
            Добавить остаток
          </button>
        </div>

        <div class="table-wrapper">
          <table class="styled-table">
            <thead>
              <tr>
                <th>Ячейка</th>
                <th>Товар</th>
                <th>SKU</th>
                <th>Количество</th>
              </tr>
            </thead>
            <tbody id="stockTableBody">
              <tr>
                <td colspan="4" style="text-align: center">Загрузка...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>

    <!-- MODAL: ADD CELL -->
    <div class="modal" id="modalAddCell">
      <div class="modal-content">
        <h3>Создание ячейки</h3>

        <label for="modalZone">Зона</label>
        <select id="modalZone"></select>

        <label for="modalCode">Код ячейки</label>
        <input id="modalCode" type="text" placeholder="Например A-12" />

        <label for="modalVolume">Макс. объём (м³)</label>
        <input id="modalVolume" type="number" step="0.001" />

        <label for="modalWeight">Макс. вес (кг)</label>
        <input id="modalWeight" type="number" step="0.001" />

        <label for="modalDescription">Описание</label>
        <input
          id="modalDescription"
          type="text"
          placeholder="Примечание, особенности ячейки"
        />

        <div class="modal-actions">
          <button class="btn btn-secondary" id="closeModalBtn">Отмена</button>
          <button class="btn btn-primary" id="createCellBtn">Создать</button>
        </div>
      </div>
    </div>

    <!-- MODAL: EDIT CELL -->
    <div class="modal" id="modalEditCell">
      <div class="modal-content">
        <h3>Редактирование ячейки</h3>

        <input type="hidden" id="editCellId" />

        <label for="editZone">Зона</label>
        <select id="editZone"></select>

        <label for="editCode">Код ячейки</label>
        <input id="editCode" type="text" />

        <label for="editVolume">Макс. объём (м³)</label>
        <input id="editVolume" type="number" step="0.001" />

        <label for="editWeight">Макс. вес (кг)</label>
        <input id="editWeight" type="number" step="0.001" />

        <label for="editDescription">Описание</label>
        <input id="editDescription" type="text" />

        <div class="modal-actions">
          <button class="btn btn-secondary" id="closeEditModal">Отмена</button>
          <button class="btn btn-primary" id="saveEditCell">Сохранить</button>
        </div>
      </div>
    </div>

    <!-- MODAL: ADD ZONE -->
    <div class="modal" id="modalAddZone">
      <div class="modal-content">
        <h3>Создание зоны</h3>

        <label for="zoneName">Название зоны</label>
        <input id="zoneName" type="text" placeholder="Например: Зона A" />

        <label for="zoneDesc">Описание</label>
        <input
          id="zoneDesc"
          type="text"
          placeholder="Назначение или примечание"
        />

        <div class="modal-actions">
          <button class="btn btn-secondary" id="closeAddZone">Отмена</button>
          <button class="btn btn-primary" id="saveAddZone">Создать</button>
        </div>
      </div>
    </div>

    <!-- MODAL: EDIT ZONE -->
    <div class="modal" id="modalEditZone">
      <div class="modal-content">
        <h3>Редактирование зоны</h3>

        <input type="hidden" id="editZoneId" />

        <label for="editZoneName">Название зоны</label>
        <input id="editZoneName" type="text" />

        <label for="editZoneDesc">Описание</label>
        <input id="editZoneDesc" type="text" />

        <div class="modal-actions">
          <button class="btn btn-secondary" id="closeEditZone">Отмена</button>
          <button class="btn btn-primary" id="saveEditZone">Сохранить</button>
        </div>
      </div>
    </div>

    <div class="modal" id="modalAddStock">
      <div class="modal-content">
        <h3>Добавить остаток</h3>

        <label>Ячейка</label>
        <select id="stockCell"></select>

        <label>Товар</label>
        <select id="stockProduct"></select>

        <label>Количество</label>
        <input type="number" id="stockQty" step="0.001" />

        <div class="modal-actions">
          <button class="btn btn-secondary" id="closeStockModal">Отмена</button>
          <button class="btn btn-primary" id="createStockBtn">Добавить</button>
        </div>
      </div>
    </div>

    <footer>© 2025 Logistics OS. Все права защищены.</footer>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/warehouse.js"></script>
  </body>
</html>
